<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0043)http://localhost:8000/B_c_cpp/match1-0.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>team239.cpp</title>

  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</head>
<body bgcolor="#ffffff">
<hr>
<h3><center>team239.cpp</center></h3><hr>
<pre>#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;

<a name="0"></a>struct node
{
	long long int y[4][4];
<font color="#0000ff"><a href="javascript:ZweiFrames(&#39;match1-1.html#0&#39;,3,&#39;match1-top.html#0&#39;,1)"><img src="./forward.gif" alt="other" border="0" align="right"></a><b>}res;
node num(node A, node B);
node quick(node a, long long n)
{
	node z;
	memset(z.y, 0, sizeof(z.y));
	int i;
	for (i = 0; i &lt; 4; i++)  z.y[i][i] = 1;
	while (n)
	{
		if (n &amp; 1)
		{
			z = num(z, a);
		}
		a = num(a, a);
<a name="1"></a>		n = n &gt;&gt; 1;</b></font>
	}
	return z;
<font color="#f63526"><a href="javascript:ZweiFrames(&#39;match1-1.html#1&#39;,3,&#39;match1-top.html#1&#39;,1)"><img src="./forward.gif" alt="other" border="0" align="right"></a><b>}
node num(node A, node B)
{
	int i, j, k;
	node t;
	for (j = 0; j &lt; 4; j++)
	{
		for (i = 0; i &lt; 4; i++)
		{
			t.y[j][i] = 0;
		}
	}
	for (j = 0; j &lt; 4; j++)
	{
		for (i = 0; i &lt; 4; i++)
		{
			for (k = 0; k &lt; 4; k++)
			{
<a name="2"></a>				t.y[j][i] = (t.y[j][i] + (A.y[j][k] % 1000000007 * B.y[k][i] % 1000000007) % 1000000007) % 1000000007;
			}
		}</b></font>
<font color="#77bfc7"><a href="javascript:ZweiFrames(&#39;match1-1.html#2&#39;,3,&#39;match1-top.html#2&#39;,1)"><img src="./forward.gif" alt="other" border="0" align="right"></a><b>	}
	return t;
}
int main()
{
	long long int* out = new long long[10000];
	int U;
	cin &gt;&gt; U;
	for (int i = 0; i &lt; U; i++)
	{
		long long int N;
		cin &gt;&gt; N;
		if (N &lt; 3)
		{
			out[i] = 0;
			continue;
		}
		else if (N == 3)
		{
			out[i] = 1;
			continue;
		}
		
		
		res.y[1][0] = 1;
		res.y[2][1] = 1;
		res.y[3][2] = 1;
		res.y[0][3] = -1;
		res.y[0][2] = -2;
		res.y[0][1] = 3;
		res.y[0][0] = 1;
		N = N - 3;
		node result;
		memset(result.y, 0, sizeof(result.y));
		result = quick(res, N);
		node a;
		memset(a.y, 0, sizeof(a.y));
		a.y[0][0] = 1;
		node result1;
		memset(result1.y, 0, sizeof(result1.y));
		result1 = num(result, a);
		out[i] = result1.y[0][0];
	}
	for (int i = 0; i &lt; U; i++)
	{
		cout &lt;&lt; (out[i] % 1000000007 + 1000000007) % 1000000007 &lt;&lt; endl;
	}

	delete[] out;
	return 0;
}</b></font>
</pre>


</body></html>